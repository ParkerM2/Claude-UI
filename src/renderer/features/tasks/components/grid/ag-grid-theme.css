/* AG-Grid theme overrides using ADC design system tokens.
   All colors reference CSS custom properties — zero hardcoded values.
   Compound selector (.ag-theme-quartz.ag-theme-claude) ensures our
   design-system overrides beat the default quartz theme specificity. */

.ag-theme-quartz.ag-theme-claude {
  /* ── Core colors ── */
  --ag-background-color: var(--card);
  --ag-foreground-color: var(--foreground);
  --ag-data-background-color: var(--card);
  --ag-border-color: var(--border);
  --ag-secondary-border-color: color-mix(in srgb, var(--border) 50%, transparent);

  /* ── Header ── */
  --ag-header-background-color: var(--muted);
  --ag-header-foreground-color: var(--foreground);
  --ag-header-cell-hover-background-color: color-mix(in srgb, var(--accent) 70%, transparent);

  /* ── Rows ── */
  --ag-odd-row-background-color: color-mix(in srgb, var(--muted) 30%, transparent);
  --ag-row-hover-color: color-mix(in srgb, var(--accent) 50%, transparent);
  --ag-row-border-color: var(--border);
  --ag-selected-row-background-color: color-mix(in srgb, var(--primary) 15%, transparent);
  --ag-range-selection-background-color: color-mix(in srgb, var(--primary) 20%, transparent);

  /* ── Controls ── */
  --ag-input-focus-border-color: var(--ring);
  --ag-input-border-color: var(--input);
  --ag-checkbox-checked-color: var(--primary);
  --ag-toggle-button-on-background-color: var(--primary);

  /* ── Text ── */
  --ag-secondary-foreground-color: var(--muted-foreground);
  --ag-disabled-foreground-color: var(--muted-foreground);

  /* ── Panels / Menus / Overlays ── */
  --ag-control-panel-background-color: var(--card);
  --ag-menu-background-color: var(--popover);
  --ag-panel-background-color: var(--card);
  --ag-modal-overlay-background-color: color-mix(in srgb, var(--background) 80%, transparent);
  --ag-tooltip-background-color: var(--popover);

  /* ── Sizing & typography ── */
  --ag-font-size: 13px;
  --ag-font-family: inherit;
  --ag-cell-horizontal-padding: 12px;
  --ag-header-height: 40px;
  --ag-row-height: 44px;
  --ag-icon-size: 14px;
}

/* ── Dark mode: native scrollbar + control dark rendering ── */
.dark .ag-theme-quartz.ag-theme-claude {
  color-scheme: dark;
}

/* ── Explicit background fallbacks ──
   In case CSS variable inheritance doesn't cascade through AG-Grid's
   internal DOM structure, set backgrounds directly on key containers. */
.ag-theme-quartz.ag-theme-claude .ag-root-wrapper {
  background-color: var(--card);
}

.ag-theme-quartz.ag-theme-claude .ag-body-viewport {
  background-color: var(--card);
}

/* ── Detail row override ──
   Ensures expanded detail rows have consistent bg with the card container. */
.ag-theme-quartz.ag-theme-claude .ag-full-width-row-detail {
  background-color: var(--card);
}
